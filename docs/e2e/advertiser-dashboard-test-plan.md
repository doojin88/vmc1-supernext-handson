# 광고주 대시보드 E2E 테스트 계획

## 1. 테스트 목적 및 범위

### 목적
- 광고주 대시보드의 모든 주요 기능을 검증
- 광고주 사용자 경험의 완전성과 신뢰성 확인
- 데이터 표시의 정확성과 실시간 업데이트 검증
- 인증된 사용자만 접근 가능한 보안성 확인

### 범위
**포함 항목:**
- 로그인 후 대시보드 접근
- 퀵 액션 카드 표시 및 클릭
- 진행 중인 체험단 목록
- 통계 정보 표시
- 최근 활동 표시
- 반응형 레이아웃

**제외 항목:**
- 실제 체험단 등록/수정/삭제 (통합 테스트에서 별도 수행)
- 지원자 관리 상세 기능
- 성과 분석 상세 기능
- 계정 설정 변경

## 2. 테스트 환경

### 시스템 요구사항
- **운영체제**: macOS 10.15+
- **브라우저**: Chrome 90+
- **화면 해상도**: 1024x768 이상 (모바일: 375x667 이상)
- **네트워크**: 안정적인 인터넷 연결 (1Mbps 이상)

### 테스트 환경 설정
- **개발 서버**: `http://localhost:3000`
- **테스트 데이터베이스**: Supabase 테스트 인스턴스 (로그인된 광고주 계정 필요)
- **테스트 도구**: Playwright 1.30.0+
- **인증**: 테스트용 광고주 계정 (admin@test.com / password)

## 3. 테스트 시나리오 및 케이스

### 3.1 인증 및 접근 제어

#### TC-AD-001: 로그인 후 대시보드 접근
**시나리오**: 광고주 계정으로 로그인하여 대시보드에 접근
**전제조건**: 테스트용 광고주 계정이 생성되어 있음
**테스트 단계**:
1. 로그인 페이지에서 광고주 계정으로 로그인
2. 대시보드 페이지로 자동 리다이렉션 확인
3. 페이지 제목이 "광고주 대시보드"인지 확인
**예상 결과**:
- 로그인 성공 시 `/dashboard`로 리다이렉션
- 페이지 제목이 "광고주 대시보드"로 표시
- 사용자 이메일이 헤더에 표시됨

#### TC-AD-002: 인증되지 않은 사용자의 접근 차단
**시나리오**: 로그인하지 않은 사용자가 대시보드에 접근 시도
**테스트 단계**:
1. 브라우저에서 `/dashboard` 경로 직접 접근
2. 로그인 페이지로 리다이렉션 확인
**예상 결과**:
- 인증되지 않은 사용자는 로그인 페이지로 리다이렉션됨
- 대시보드 콘텐츠가 표시되지 않음

### 3.2 대시보드 레이아웃 및 기본 기능

#### TC-AD-003: 대시보드 초기 로딩 및 레이아웃
**시나리오**: 로그인 후 대시보드 페이지의 초기 로딩 및 레이아웃 확인
**테스트 단계**:
1. 광고주 계정으로 로그인
2. 대시보드 페이지 완전 로딩 대기
3. 모든 섹션 요소들이 올바르게 표시되는지 확인
**예상 결과**:
- 페이지 제목: "광고주 대시보드"
- 환영 메시지 표시 (사용자 이메일 포함)
- 4개의 퀵 액션 카드 표시
- 진행 중인 체험단 섹션 표시
- 통계 사이드바 표시
- 최근 활동 섹션 표시

#### TC-AD-004: 반응형 레이아웃 확인
**시나리오**: 다양한 화면 크기에서 대시보드 레이아웃 확인
**테스트 단계**:
1. 브라우저 창 크기 조절 (Desktop: 1200px+, Mobile: 375px-767px)
2. 각 크기에서 요소들이 올바르게 배치되는지 확인
**예상 결과**:
- Desktop: 3컬럼 레이아웃 (퀵액션 4개, 체험단 목록, 통계/활동)
- Mobile: 1컬럼 레이아웃, 세로 스크롤

### 3.3 퀵 액션 카드 기능

#### TC-AD-005: 퀵 액션 카드 클릭 및 네비게이션
**시나리오**: 각 퀵 액션 카드를 클릭하여 올바른 페이지로 이동하는지 확인
**테스트 단계**:
1. "새 체험단 등록" 카드 클릭
2. "지원자 관리" 카드 클릭
3. "성과 분석" 카드 클릭
4. "계정 설정" 카드 클릭
**예상 결과**:
- 각 카드 클릭 시 해당 페이지로 이동
- URL이 올바르게 변경됨
- 클릭 시 시각적 피드백 (호버 효과)

#### TC-AD-006: 퀵 액션 카드 호버 효과
**시나리오**: 퀵 액션 카드에 마우스를 올렸을 때 시각적 피드백 확인
**테스트 단계**:
1. 각 퀵 액션 카드 위에 마우스 호버
2. 시각적 변화 확인
**예상 결과**:
- 호버 시 그림자 효과 증가
- 카드에 클릭 가능한 느낌의 시각적 피드백

### 3.4 진행 중인 체험단 섹션

#### TC-AD-007: 진행 중인 체험단 목록 표시
**시나리오**: 광고주가 등록한 체험단이 목록에 올바르게 표시되는지 확인
**전제조건**: 테스트용 체험단 데이터가 존재함
**테스트 단계**:
1. 대시보드 로딩 후 진행 중인 체험단 섹션 확인
2. 체험단 카드의 정보들이 올바르게 표시되는지 확인
**예상 결과**:
- 체험단 제목, 상태 배지, 기간 정보 표시
- 모집중/모집종료 배지 색상 구분
- "새 체험단 등록" 버튼 표시

#### TC-AD-008: 체험단 상태별 표시
**시나리오**: 체험단의 상태에 따른 올바른 배지와 버튼 표시 확인
**테스트 단계**:
1. 모집중인 체험단 카드 확인
2. 모집종료된 체험단 카드 확인 (가능한 경우)
**예상 결과**:
- 모집중: 녹색 "모집중" 배지, 파란색 버튼
- 모집종료: 회색 "모집종료" 배지, 회색 비활성 버튼

### 3.5 통계 정보 표시

#### TC-AD-009: 통계 사이드바 정보 정확성
**시나리오**: 대시보드의 통계 정보가 정확하게 표시되는지 확인
**테스트 단계**:
1. 통계 사이드바의 각 항목 확인
2. 숫자 값들이 올바르게 표시되는지 확인
**예상 결과**:
- 총 체험단 수: 실제 등록된 체험단 수와 일치
- 총 지원자 수: 실제 지원자 수와 일치
- 완료된 체험단 수: 실제 완료된 체험단 수와 일치
- 아이콘이 올바르게 표시됨

### 3.6 최근 활동 섹션

#### TC-AD-010: 최근 활동 표시
**시나리오**: 최근 활동 섹션이 올바르게 표시되는지 확인
**전제조건**: 최근 활동 데이터가 존재함
**테스트 단계**:
1. 최근 활동 섹션 확인
2. 활동 목록이 시간순으로 정렬되어 있는지 확인
**예상 결과**:
- 최근 활동이 시간순으로 표시됨
- 활동 유형별 적절한 아이콘 표시
- "아직 활동이 없습니다" 메시지가 데이터 없을 때만 표시

## 4. 테스트 데이터

### 요구사항
- 테스트용 광고주 계정 1개 (admin@test.com)
- 최소 3개의 테스트 체험단 (모집중, 모집종료, 완료 상태)
- 각 체험단별 지원자 데이터
- 최근 활동 로그 데이터

### 데이터 생성 방법
- Supabase 인증 시스템을 통한 광고주 계정 생성
- 테스트용 체험단 및 지원자 데이터 마이그레이션
- 실제 시나리오를 반영한 더미 데이터

## 5. 테스트 도구 및 프레임워크

### 주요 도구
- **Playwright**: 크로스 브라우저 E2E 테스트 프레임워크
- **Jest**: 테스트 러너 및 assertion 라이브러리
- **@playwright/test**: Playwright 테스트 API

### 설정 파일
```
playwright.config.ts - 브라우저 설정 및 인증 처리
tests/e2e/advertiser-dashboard.spec.ts - 메인 테스트 파일
tests/e2e/auth-setup.ts - 인증 상태 설정
tests/e2e/utils/ - 페이지 객체 및 헬퍼 함수
```

## 6. 테스트 실행 방법

### 사전 준비
1. 데이터베이스 마이그레이션 실행 (테스트 데이터 포함)
2. 개발 서버 시작: `npm run dev`
3. 광고주 테스트 계정 생성 및 로그인 상태 설정

### 실행 명령어
```bash
# 인증 상태 설정 후 모든 테스트 실행
npx playwright test tests/e2e/advertiser-dashboard.spec.ts

# 특정 테스트만 실행
npx playwright test tests/e2e/advertiser-dashboard.spec.ts -g "TC-AD-001"

# 디버그 모드로 실행
npx playwright test tests/e2e/advertiser-dashboard.spec.ts --debug

# 실패한 테스트만 재실행
npx playwright test tests/e2e/advertiser-dashboard.spec.ts --grep "failed"
```

## 7. 성공/실패 기준

### 성공 기준
- 모든 테스트 케이스가 통과 (Pass)
- 페이지 로딩 시간 < 2초 (인증 후)
- JavaScript 오류 없음
- 인증 상태가 올바르게 유지됨

### 실패 기준
- 테스트 케이스 중 하나라도 실패 (Fail)
- 페이지 로딩 시간 > 5초
- JavaScript 실행 오류 발생
- 인증 우회 가능

## 8. 리스크 및 제한사항

### 잠재적 리스크
- 인증 상태 관리의 복잡성
- 실시간 데이터 업데이트로 인한 플레이킹 테스트
- 브라우저 간 인증 처리 차이
- 네트워크 지연으로 인한 타임아웃

### 제한사항
- 실제 사용자 행동과 100% 일치하지 않음
- 모든 인증 시나리오 커버 불가능
- 데이터베이스 상태 의존성 높음

## 9. 보고 및 문서화

### 테스트 결과 보고서
- 실행 날짜 및 시간
- 테스트 환경 정보 (브라우저, OS)
- 성공/실패한 테스트 케이스 상세 목록
- 스크린샷 (실패 케이스 및 주요 화면)
- 성능 메트릭스 (로딩 시간, 메모리 사용량)

### 유지보수
- 새로운 기능 추가 시 테스트 케이스 업데이트
- 인증 관련 변경사항 발생 시 테스트 우선 업데이트
- 정기적인 테스트 데이터 리프레시

## 10. 향후 개선사항

### 추가 테스트 케이스
- 실시간 데이터 업데이트 테스트
- 다중 탭/창에서의 동시 접근 테스트
- 세션 만료 및 자동 로그아웃 테스트
- 데이터 정합성 검증 테스트

### 테스트 자동화 강화
- CI/CD 파이프라인에 인증 테스트 통합
- 테스트 데이터 자동화 생성 스크립트
- 시각적 회귀 테스트 도입

---
*문서 버전: 1.0 | 작성일: 2025-10-02 | 최종 수정일: 2025-10-02*
